<section id="contacts" class="contact-section">
  <div class="container">
    <!-- Header Section -->
    <div class="section-header" data-aos="fade-up">
      <h2 class="section-title" [innerHTML]="'contact.header.title' | translate">
      </h2>
      <p class="section-subtitle">
        {{ 'contact.header.subtitle' | translate }}
      </p>
    </div>

    <!-- Contact Content -->
    <div class="contact-content">
      <!-- Contact Form -->
      <div class="contact-form-section" data-aos="fade-right">
        <div class="form-container">
          <div class="form-header">
            <div class="form-icon">
              <i class="bi bi-chat-dots"></i>
            </div>
            <h3 class="form-title">{{ 'contact.form.title' | translate }}</h3>
            <p class="form-subtitle">
              {{ 'contact.form.subtitle' | translate }}
            </p>
          </div>

          <form
            class="contact-form"
            action="https://docs.google.com/forms/d/e/1FAIpQLSeoFq9F9m6OKCGblM2Gx0R5fD7u1yH0WTc_8V1MLVgIDGfVRA/formResponse"
            method="POST"
            target="_blank"
            #contactForm="ngForm"
          >
            <div class="form-row">
              <div class="form-group">
                <label for="firstName" class="form-label">
                  <i class="bi bi-person"></i>
                  <span>{{ 'contact.form.name' | translate }}</span>
                </label>
                <div class="input-container">
                  <input
                    type="text"
                    id="firstName"
                    name="entry.1234567890"
                    class="form-control"
                    [placeholder]="'contact.form.namePlaceholder' | translate"
                    required
                    #firstName="ngModel"
                    ngModel
                  />
                  <div class="input-focus-border"></div>
                </div>
                <div class="form-feedback" *ngIf="firstName.invalid && firstName.touched">
                  <i class="bi bi-exclamation-circle"></i>
                  {{ 'contact.form.nameRequired' | translate }}
                </div>
              </div>
              
              <div class="form-group">
                <label for="lastName" class="form-label">
                  <i class="bi bi-person-badge"></i>
                  <span>{{ 'contact.form.lastName' | translate }}</span>
                </label>
                <div class="input-container">
                  <input
                    type="text"
                    id="lastName"
                    name="entry.0987654321"
                    class="form-control"
                    [placeholder]="'contact.form.lastNamePlaceholder' | translate"
                    required
                    #lastName="ngModel"
                    ngModel
                  />
                  <div class="input-focus-border"></div>
                </div>
                <div class="form-feedback" *ngIf="lastName.invalid && lastName.touched">
                  <i class="bi bi-exclamation-circle"></i>
                  {{ 'contact.form.lastNameRequired' | translate }}
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="email" class="form-label">
                <i class="bi bi-envelope"></i>
                <span>{{ 'contact.form.email' | translate }}</span>
              </label>
              <div class="input-container">
                <input
                  type="email"
                  id="email"
                  name="entry.1357924680"
                  class="form-control"
                  [placeholder]="'contact.form.emailPlaceholder' | translate"
                  required
                  email
                  #email="ngModel"
                  ngModel
                />
                <div class="input-focus-border"></div>
              </div>
              <div class="form-feedback" *ngIf="email.invalid && email.touched">
                <i class="bi bi-exclamation-circle"></i>
                <span *ngIf="email.errors?.['required']">{{ 'contact.form.emailRequired' | translate }}</span>
                <span *ngIf="email.errors?.['email']">{{ 'contact.form.emailInvalid' | translate }}</span>
              </div>
            </div>

            <div class="form-group">
              <label for="subject" class="form-label">
                <i class="bi bi-tag"></i>
                <span>{{ 'contact.form.projectType' | translate }}</span>
              </label>
              <div class="select-container">
                <select
                  id="subject"
                  name="entry.2468013579"
                  class="form-control"
                  required
                  #subject="ngModel"
                  ngModel
                >
                  <option value="">{{ 'contact.form.projectTypePlaceholder' | translate }}</option>
                  <option value="proyecto-web">{{ 'contact.projectTypes.web' | translate }}</option>
                  <option value="proyecto-movil">{{ 'contact.projectTypes.mobile' | translate }}</option>
                  <option value="ecommerce">{{ 'contact.projectTypes.ecommerce' | translate }}</option>
                  <option value="api">{{ 'contact.projectTypes.api' | translate }}</option>
                  <option value="consultoria">{{ 'contact.projectTypes.consulting' | translate }}</option>
                  <option value="colaboracion">{{ 'contact.projectTypes.collaboration' | translate }}</option>
                  <option value="freelance">{{ 'contact.projectTypes.freelance' | translate }}</option>
                  <option value="otro">{{ 'contact.projectTypes.other' | translate }}</option>
                </select>
                <div class="select-arrow">
                  <i class="bi bi-chevron-down"></i>
                </div>
              </div>
              <div class="form-feedback" *ngIf="subject.invalid && subject.touched">
                <i class="bi bi-exclamation-circle"></i>
                {{ 'contact.form.projectTypeRequired' | translate }}
              </div>
            </div>

            <div class="form-group">
              <label for="message" class="form-label">
                <i class="bi bi-chat-text"></i>
                <span>{{ 'contact.form.message' | translate }}</span>
              </label>
              <div class="textarea-container">
                <textarea
                  id="message"
                  name="entry.9876543210"
                  class="form-control"
                  rows="6"
                  [placeholder]="'contact.form.messagePlaceholder' | translate"
                  required
                  #message="ngModel"
                  ngModel
                ></textarea>
                <div class="textarea-focus-border"></div>
                <div class="character-count">
                  <span>{{ message.value?.length || 0 }}/500</span>
                </div>
              </div>
              <div class="form-feedback" *ngIf="message.invalid && message.touched">
                <i class="bi bi-exclamation-circle"></i>
                {{ 'contact.form.messageRequired' | translate }}
              </div>
            </div>

            <div class="form-actions">
              <button 
                type="submit" 
                class="submit-button"
                [disabled]="contactForm.invalid"
                [class.loading]="isSubmitting"
              >
                <div class="button-content">
                  <i class="bi bi-send" *ngIf="!isSubmitting"></i>
                  <i class="bi bi-arrow-clockwise spin" *ngIf="isSubmitting"></i>
                  <span>{{ isSubmitting ? ('contact.form.sending' | translate) : ('contact.form.sendMessage' | translate) }}</span>
                </div>
                <div class="button-shine"></div>
              </button>
              
              <div class="form-note">
                <i class="bi bi-shield-check"></i>
                <span>{{ 'contact.form.securityNote' | translate }}</span>
              </div>
            </div>
          </form>
        </div>
      </div>

      <!-- Contact Info -->
      <div class="contact-info-section" data-aos="fade-left">
        <!-- Quick Contact Methods -->
        <div class="quick-contact">
          <h3 class="info-title">
            <i class="bi bi-lightning"></i>
            {{ 'contact.quickContact.title' | translate }}
          </h3>
          
          <div class="contact-methods">
            <a href="mailto:{{ email }}" class="contact-method email">
              <div class="method-icon">
                <i class="bi bi-envelope-fill"></i>
              </div>
              <div class="method-content">
                <h4 class="method-title">{{ 'contact.quickContact.email' | translate }}</h4>
                <p class="method-value">{{ email }}</p>
                <span class="method-description">{{ 'contact.quickContact.emailDesc' | translate }}</span>
              </div>
              <div class="method-status">
                <div class="status-dot active"></div>
              </div>
            </a>

            <a href="https://wa.me/593999763190?text=Hola%20Miguel,%20me%20interesa%20trabajar%20contigo" 
               target="_blank" 
               class="contact-method whatsapp">
              <div class="method-icon">
                <i class="bi bi-whatsapp"></i>
              </div>
              <div class="method-content">
                <h4 class="method-title">{{ 'contact.quickContact.whatsapp' | translate }}</h4>
                <p class="method-value">+593 999 763 190</p>
                <span class="method-description">{{ 'contact.quickContact.whatsappDesc' | translate }}</span>
              </div>
              <div class="method-status">
                <div class="status-dot active"></div>
              </div>
            </a>

            <a href="tel:+593999763190" class="contact-method phone">
              <div class="method-icon">
                <i class="bi bi-telephone-fill"></i>
              </div>
              <div class="method-content">
                <h4 class="method-title">{{ 'contact.quickContact.phone' | translate }}</h4>
                <p class="method-value">+593 999 763 190</p>
                <span class="method-description">{{ 'contact.quickContact.phoneDesc' | translate }}</span>
              </div>
              <div class="method-status">
                <div class="status-dot"></div>
              </div>
            </a>

            <a href="https://www.linkedin.com/in/eduardo-miguel-muzo-6379b2234/" 
               target="_blank" 
               class="contact-method linkedin">
              <div class="method-icon">
                <i class="bi bi-linkedin"></i>
              </div>
              <div class="method-content">
                <h4 class="method-title">{{ 'contact.quickContact.linkedin' | translate }}</h4>
                <p class="method-value">Eduardo Miguel Muzo</p>
                <span class="method-description">{{ 'contact.quickContact.linkedinDesc' | translate }}</span>
              </div>
              <div class="method-status">
                <div class="status-dot active"></div>
              </div>
            </a>
          </div>
        </div>

        <!-- Availability Status -->
        <div class="availability-card">
          <div class="availability-header">
            <div class="availability-icon">
              <i class="bi bi-calendar-check"></i>
            </div>
            <div class="availability-info">
              <h4 class="availability-title">{{ 'contact.availability.title' | translate }}</h4>
              <div class="availability-status">
                <div class="status-indicator">
                  <div class="status-dot active"></div>
                  <span class="status-text">{{ 'contact.availability.available' | translate }}</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="availability-details">
            <div class="detail-item">
              <i class="bi bi-clock"></i>
              <span>{{ 'contact.availability.responseTime' | translate }}</span>
            </div>
            <div class="detail-item">
              <i class="bi bi-calendar3"></i>
              <span>{{ 'contact.availability.startTime' | translate }}</span>
            </div>
            <div class="detail-item">
              <i class="bi bi-geo-alt"></i>
              <span>{{ 'contact.availability.location' | translate }}</span>
            </div>
          </div>
        </div>

        <!-- Location Card -->
        <div class="location-card">
          <div class="location-header">
            <div class="location-icon">
              <i class="bi bi-geo-alt-fill"></i>
            </div>
            <div class="location-info">
              <h4 class="location-title">Ubicación</h4>
              <p class="location-address">Quito, Ecuador</p>
              <span class="location-timezone">GMT-5 (Hora de Ecuador)</span>
            </div>
          </div>
          
          <div class="map-container">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d15063.315848296434!2d-78.40852612910017!3d-0.3187335942804549!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sec!4v1661722349197!5m2!1sen!2sec"
              width="100%"
              height="200"
              style="border: 0; border-radius: 12px;"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
            <div class="map-overlay">
              <div class="map-info">
                <i class="bi bi-geo-alt-fill"></i>
                <span>Quito, Ecuador</span>
              </div>
            </div>
          </div>
        </div>

        <!-- FAQ Section -->
        <div class="faq-section">
          <h4 class="faq-title">
            <i class="bi bi-question-circle"></i>
            {{ 'contact.faq.title' | translate }}
          </h4>
          <div class="faq-list">
            <div class="faq-item">
              <div class="faq-question">
                <i class="bi bi-clock"></i>
                <span>{{ 'contact.faq.timeQuestion' | translate }}</span>
              </div>
              <div class="faq-answer">
                {{ 'contact.faq.timeAnswer' | translate }}
              </div>
            </div>
            <div class="faq-item">
              <div class="faq-question">
                <i class="bi bi-currency-dollar"></i>
                <span>{{ 'contact.faq.paymentQuestion' | translate }}</span>
              </div>
              <div class="faq-answer">
                {{ 'contact.faq.paymentAnswer' | translate }}
              </div>
            </div>
            <div class="faq-item">
              <div class="faq-question">
                <i class="bi bi-tools"></i>
                <span>{{ 'contact.faq.maintenanceQuestion' | translate }}</span>
              </div>
              <div class="faq-answer">
                {{ 'contact.faq.maintenanceAnswer' | translate }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>