<main class="home-main">
  <!-- Hero Section Compacta -->
  <section id="home" class="hero-section">
    <div class="hero-container">
      <div class="hero-content">
        <div class="hero-text">
          <div class="greeting">
            <span class="greeting-badge">{{ 'home.hero.greeting' | translate }}</span>
          </div>
          <h1 class="hero-title">
            <span class="name">{{ 'home.hero.name' | translate }}</span>
            <span class="surname gradient-text">{{ 'home.hero.surname' | translate }}</span>
          </h1>
          <div class="role-container">
            <span class="typing-text">{{ currentRole }}</span>
            <span class="cursor">|</span>
          </div>
          <p class="hero-description">
            {{ 'home.hero.description' | translate }}
          </p>

          <!-- Stats Inline -->
          <div class="hero-stats">
            <div class="stat">
              <span class="number">2+</span>
              <span class="label">{{ 'home.hero.stats.years' | translate }}</span>
            </div>
            <div class="stat">
              <span class="number">5+</span>
              <span class="label">{{ 'home.hero.stats.projects' | translate }}</span>
            </div>
            <div class="stat">
              <span class="number">8+</span>
              <span class="label">{{ 'home.hero.stats.technologies' | translate }}</span>
            </div>
          </div>

          <!-- Actions -->
          <div class="hero-actions">
            <button class="btn-primary" (click)="scrollToSection('contacto')">
              <i class="bi bi-chat-dots"></i>
              <span>{{ 'home.hero.actions.contact' | translate }}</span>
            </button>
            <button class="btn-secondary" (click)="scrollToSection('portafolio')">
              <i class="bi bi-collection"></i>
              <span>{{ 'home.hero.actions.projects' | translate }}</span>
            </button>
          </div>
        </div>

        <!-- Hero Visual -->
        <div class="hero-visual">
          <div class="profile-card">
            <div class="profile-image">
              <img src="/assets/img/img-mia.png" alt="Eduardo Miguel Muzo" />
              <div class="status-indicator">
                <div class="status-dot"></div>
                <span>{{ 'home.hero.status' | translate }}</span>
              </div>
            </div>
            <div class="quick-info">
              <div class="info-item">
                <i class="bi bi-geo-alt"></i>
                <span>{{ 'home.hero.location' | translate }}</span>
              </div>
              <div class="info-item">
                <i class="bi bi-briefcase"></i>
                <span>{{ 'home.hero.role' | translate }}</span>
              </div>
            </div>

            <div class="contact-icons">
              <a href="tel:+593999763190" class="contact-icon-btn" title="Tel√©fono">
                <i class="bi bi-phone"></i>
              </a>
              <a href="mailto:eduardomuzo123456@gmail.com" class="contact-icon-btn" title="Email">
                <i class="bi bi-envelope"></i>
              </a>
              <a href="https://www.linkedin.com/in/eduardo-miguel-muzo-6379b2234/" target="_blank" class="contact-icon-btn" title="LinkedIn">
                <i class="bi bi-linkedin"></i>
              </a>
              <a href="https://github.com/Miguel-EMC" target="_blank" class="contact-icon-btn" title="GitHub">
                <i class="bi bi-github"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Secci√≥n Compacta de Informaci√≥n con Tabs -->
  <section id="about" class="compact-section">
    <div class="container">
      <div class="section-header">
        <h2>{{ 'home.profile.title' | translate }}</h2>
      </div>

      <!-- Tab Navigation -->
      <div class="tab-navigation">
        <button
          class="tab-btn"
          [class.active]="activeTab === 'skills'"
          (click)="setActiveTab('skills')">
          <i class="bi bi-code-slash"></i>
          <span>{{ 'home.profile.tabs.skills' | translate }}</span>
        </button>
        <button
          class="tab-btn"
          [class.active]="activeTab === 'experience'"
          (click)="setActiveTab('experience')">
          <i class="bi bi-briefcase"></i>
          <span>{{ 'home.profile.tabs.experience' | translate }}</span>
        </button>
        <button
          class="tab-btn"
          [class.active]="activeTab === 'education'"
          (click)="setActiveTab('education')">
          <i class="bi bi-mortarboard"></i>
          <span>{{ 'home.profile.tabs.education' | translate }}</span>
        </button>
      </div>

      <!-- Tab Content -->
      <div class="tab-content">
        <!-- Skills Tab -->
        <div class="tab-pane" [class.active]="activeTab === 'skills'">
          <div class="skills-dashboard">

            <!-- Areas Dashboard -->
            <div class="areas-dashboard">
              <div class="areas-grid">
                <div class="area-card"
                     *ngFor="let area of skillAreas; let i = index"
                     [class.active]="selectedArea === i"
                     (click)="selectArea(i)">
                  <div class="area-icon">{{ area.emoji }}</div>
                  <div class="area-content">
                    <h3>{{ 'skillAreas.' + area.id + '.title' | translate }}</h3>
                    <p>{{ 'skillAreas.' + area.id + '.description' | translate }}</p>
                    <div class="tech-preview">
                      <span class="tech-badge" *ngFor="let tech of area.technologies.slice(0, 3)">
                        {{ tech }}
                      </span>
                      <span class="more-tech" *ngIf="area.technologies.length > 3">
                        +{{ area.technologies.length - 3 }}
                      </span>
                    </div>
                  </div>
                  <div class="area-status">
                    <span class="status-indicator" [style.background]="area.color"></span>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>

        <!-- Experience Tab -->
        <div class="tab-pane" [class.active]="activeTab === 'experience'">
          <div class="experience-section">
            <div class="experience-timeline">
              <div class="timeline-item" *ngFor="let exp of experiences; let i = index">
                <div class="timeline-marker">
                </div>
                <div class="timeline-content">
                  <div class="experience-header">
                    <h4>{{ 'experiences.' + exp.id + '.title' | translate }}</h4>
                    <span class="date">{{ exp.date }}</span>
                  </div>
                  <p class="company">üè¢ {{ 'experiences.' + exp.id + '.subtitle' | translate }}</p>
                  <p class="location">
                    üìç {{ exp.location }}
                  </p>
                  <div class="achievements-preview">
                    <div class="achievement" *ngFor="let task of ('experiences.' + exp.id + '.tasks' | translate).slice(0, 2)">
                      <span class="achievement-emoji">‚ú®</span>
                      <span class="task-description">{{ task }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Education Tab -->
        <div class="tab-pane" [class.active]="activeTab === 'education'">
          <div class="education-section">
            <div class="education-timeline">
              <div class="education-item" *ngFor="let edu of educationItems; let i = index">
                <div class="edu-icon">
                  <span class="edu-emoji">{{ getEducationEmoji(i) }}</span>
                </div>
                <div class="edu-content">
                  <div class="edu-header">
                    <h4>{{ 'education.' + edu.id + '.title' | translate }}</h4>
                    <span class="date">{{ edu.date }}</span>
                  </div>
                  <p class="institution">üè´ {{ 'education.' + edu.id + '.institution' | translate }}</p>
                  <p class="description">{{ 'education.' + edu.id + '.description' | translate }}</p>
                  <div class="achievements-preview">
                    <div class="achievement" *ngFor="let achievement of ('education.' + edu.id + '.achievements' | translate).slice(0, 2)">
                      <span class="achievement-emoji">üéØ</span>
                      <span>{{ achievement }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Skills Area Modal -->
  <div class="skills-modal-overlay"
       *ngIf="selectedArea !== null"
       (click)="closeModal()">
    <div class="skills-modal"
         (click)="$event.stopPropagation()">

      <!-- Header redesigned -->
      <div class="modal-header">
        <div class="header-content">
          <div class="area-badge" [style.background]="skillAreas[selectedArea].color">
            <span class="area-emoji">{{ skillAreas[selectedArea].emoji }}</span>
          </div>
          <div class="header-text">
            <h2 class="area-title">{{ 'skillAreas.' + skillAreas[selectedArea].id + '.title' | translate }}</h2>
            <p class="area-subtitle">{{ 'skillAreas.' + skillAreas[selectedArea].id + '.description' | translate }}</p>
            <div class="area-stats">
              <div class="stat-chip">
                <i class="bi bi-collection"></i>
                <span>{{ skillAreas[selectedArea].detailedTechs.length }} Tecnolog√≠as</span>
              </div>
              <div class="stat-chip expert">
                <i class="bi bi-star-fill"></i>
                <span>{{ getExpertCount(selectedArea) }} Experto+</span>
              </div>
            </div>
          </div>
        </div>
        <button class="close-button" (click)="closeModal()">
          <i class="bi bi-x-lg"></i>
        </button>
      </div>

      <!-- Body redesigned with cards -->
      <div class="modal-body">
        <div class="technologies-grid">
          <div class="tech-card-modern"
               *ngFor="let tech of skillAreas[selectedArea].detailedTechs; let i = index">

            <div class="tech-card-header">
              <div class="tech-icon" [style.background]="skillAreas[selectedArea].color">
                <span>{{ tech.name.charAt(0) }}</span>
              </div>
              <div class="tech-info">
                <h4 class="tech-title">{{ tech.name }}</h4>
                <div class="skill-level-visual">
                  <div class="skill-bar">
                    <div class="skill-progress"
                         [style.width]="(tech.mastery / 10) * 100 + '%'"
                         [style.background]="skillAreas[selectedArea].color">
                    </div>
                  </div>
                  <span class="skill-percentage">{{ (tech.mastery / 10) * 100 | number:'1.0-0' }}%</span>
                </div>
              </div>
            </div>

            <div class="tech-card-footer">
              <div class="mastery-badge"
                   [class]="'level-' + tech.mastery"
                   [style.background]="skillAreas[selectedArea].color + '20'"
                   [style.border-color]="skillAreas[selectedArea].color">
                    <i class="bi"
                      [ngClass]="{
                        'bi-circle': [1, 2].includes(tech.mastery), 'bi-triangle': [3, 4].includes(tech.mastery),
                        'bi-square': [5, 6].includes(tech.mastery), 'bi-pentagon': [7, 8].includes(tech.mastery),
                        'bi-star-fill': [9, 10].includes(tech.mastery)
                      }"
                      [style.color]="skillAreas[selectedArea].color">
                    </i>
                <span [style.color]="skillAreas[selectedArea].color">
                  {{ getMasteryLabel(tech.mastery) }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer redesigned -->
      <div class="modal-footer">
        <div class="footer-content">
          <div class="progress-overview">
            <div class="mastery-breakdown">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Portfolio Compacto -->
  <section id="portafolio" class="portfolio-compact">
    <div class="container">
      <div class="section-header">
        <h2>{{ 'home.portfolio.title' | translate }}</h2>
      </div>

      <div class="projects-showcase">
        <div class="project-card" *ngFor="let project of featuredProjects">
          <div class="project-image">
            <img [src]="project.image" [alt]="'projects.' + project.id + '.title' | translate" />
            <div class="project-overlay">
              <div class="project-actions">
                <a [href]="project.liveUrl" target="_blank" class="action-btn" *ngIf="project.liveUrl">
                  <i class="bi bi-eye"></i>
                </a>
                <a [href]="project.githubUrl" target="_blank" class="action-btn" *ngIf="project.githubUrl">
                  <i class="bi bi-github"></i>
                </a>
              </div>
            </div>
          </div>
          <div class="project-info">
            <h3>{{ 'projects.' + project.id + '.title' | translate }}</h3>
            <p>{{ 'projects.' + project.id + '.description' | translate }}</p>
            <div class="project-tech">
              <span class="tech-badge" *ngFor="let tech of project.tech.slice(0, 3)">{{ tech }}</span>
            </div>
          </div>
        </div>
      </div>

      <div class="view-all">
        <button class="btn-outline" (click)="viewAllProjects()">
          <span>{{ 'home.portfolio.viewAll' | translate }}</span>
          <i class="bi bi-arrow-right"></i>
        </button>
      </div>
    </div>
  </section>

  <!-- Contacto Compacto -->
  <section id="contacto" class="contact-compact">
    <div class="container">
      <div class="section-header">
        <h2>{{ 'home.contact.title' | translate }}</h2>
      </div>

      <div class="contact-content">
        <div class="contact-info">
          <p>{{ 'home.contact.description' | translate }}</p>

          <div class="contact-methods">
            <a href="mailto:eduardomuzo123456@gmail.com" class="contact-method">
              <i class="bi bi-envelope"></i>
              <div>
                <span class="method-label">{{ 'home.contact.methods.email' | translate }}</span>
                <span class="method-value">eduardomuzo123456&#64;gmail.com</span>
              </div>
            </a>
            <a href="https://wa.me/593999763190" target="_blank" class="contact-method">
              <i class="bi bi-whatsapp"></i>
              <div>
                <span class="method-label">{{ 'home.contact.methods.whatsapp' | translate }}</span>
                <span class="method-value">+593 999 763 190</span>
              </div>
            </a>
            <a href="https://www.linkedin.com/in/eduardo-miguel-muzo-6379b2234/" target="_blank" class="contact-method">
              <i class="bi bi-linkedin"></i>
              <div>
                <span class="method-label">{{ 'home.contact.methods.linkedin' | translate }}</span>
                <span class="method-value">Eduardo Miguel Muzo</span>
              </div>
            </a>
          </div>
        </div>

        <div class="contact-form-compact">
          <form class="quick-contact-form" #contactForm="ngForm">
            <div class="form-group">
              <input type="text" [placeholder]="'home.contact.form.name' | translate" required>
            </div>
            <div class="form-group">
              <input type="email" [placeholder]="'home.contact.form.email' | translate" required>
            </div>
            <div class="form-group">
              <textarea [placeholder]="'home.contact.form.message' | translate" rows="4" required></textarea>
            </div>
            <button type="submit" class="btn-primary full-width">
              <i class="bi bi-send"></i>
              <span>{{ 'home.contact.form.send' | translate }}</span>
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>
</main>
