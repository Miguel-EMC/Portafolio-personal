<section id="experience" class="experience-section">
  <div class="container">
    <!-- Header Section -->
    <div class="section-header">
      <div class="section-badge">
        <i class="bi bi-code-slash"></i>
        <span>Trayectoria Profesional</span>
      </div>
      <h2 class="section-title">
        Mi <span class="highlight">Experiencia</span>
      </h2>
      <p class="section-subtitle">
        Un recorrido por mi carrera profesional en el desarrollo de software
      </p>
    </div>

    <!-- Experience Timeline -->
    <div class="timeline-container">
      <div class="timeline-line"></div>
      
      <div 
        class="timeline-item"
        *ngFor="let exp of experiences; let i = index"
        [class.visible]="isVisible(i)"
        [style.animation-delay]="(i * 200) + 'ms'"
      >
        <div class="timeline-marker">
          <div class="marker-dot"></div>
          <div class="marker-pulse"></div>
        </div>
        
        <div class="timeline-card">
          <div class="card-header">
            <div class="company-info">
              <h3 class="position-title">{{ exp.title }}</h3>
              <h4 class="company-name">{{ exp.subtitle }}</h4>
              <div class="location-date">
                <span class="location">
                  <i class="bi bi-geo-alt"></i>
                  {{ exp.location }}
                </span>
                <span class="date">
                  <i class="bi bi-calendar3"></i>
                  {{ exp.date }}
                </span>
              </div>
            </div>
            <div class="card-icon">
              <i class="bi bi-briefcase-fill"></i>
            </div>
          </div>
          
          <div class="card-body">
            <div class="achievements">
              <h5 class="achievements-title">Logros principales:</h5>
              <ul class="achievements-list">
                <li *ngFor="let task of exp.tasks" class="achievement-item">
                  <div class="achievement-icon">
                    <i class="bi bi-check-circle-fill"></i>
                  </div>
                  <span class="achievement-text">{{ task }}</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Skills Section -->
    <div class="skills-section">
      <div class="skills-header">
        <h3 class="skills-title">
          <i class="bi bi-tools"></i>
          Stack Tecnológico
        </h3>
        <p class="skills-subtitle">Tecnologías y herramientas que domino</p>
      </div>
      
      <div class="skills-grid">
        <div class="skill-category" *ngFor="let skill of skills; let i = index">
          <div class="category-header">
            <div class="category-icon">
              <i [class]="getCategoryIcon(skill.category)"></i>
            </div>
            <h4 class="category-title">{{ skill.category }}</h4>
          </div>
          
          <div class="skills-list">
            <div 
              class="skill-tag" 
              *ngFor="let item of skill.items; let j = index"
              [style.animation-delay]="((i * 100) + (j * 50)) + 'ms'"
            >
              <i class="skill-icon" [class]="getSkillIcon(item)"></i>
              <span class="skill-name">{{ item }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- CTA Section -->
    <div class="cta-section">
      <div class="cta-card">
        <div class="cta-content">
          <h3 class="cta-title">¿Interesado en colaborar?</h3>
          <p class="cta-description">
            Estoy disponible para nuevos proyectos y oportunidades profesionales
          </p>
        </div>
        <div class="cta-actions">
          <button class="cta-button primary" (click)="scrollToSection('contacto')">
            <i class="bi bi-envelope"></i>
            <span>Contactar</span>
          </button>
          <a href="/assets/cv/CV-Miguel-Muzo.pdf" download class="cta-button secondary">
            <i class="bi bi-download"></i>
            <span>Descargar CV</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>